!function(){"use strict";function t(){var t,e;t={},t.init=function(t,e){t.setCacheAdapter=function(t){e.cacheAdapter=t},t.getCacheAdapter=function(){return e.cacheAdapter},t.setAfterShow=function(t){e.afterShow=t},t.getAfterShow=function(){return e.afterShow}},e={},t.init(this,e),this.$get=function(){function t(){this.id="_"+Math.random().toString(36).substr(2,9),this.title="",this.contentUrl="",this.helpUrl="",this.navigateContent="sanji-loading",this.recordState=[this.navigateContent],this.animateClass="slide-left",this.isProcessing=!1,this.toggleStatus=!1}return t.prototype.setTitle=function(t){this.title=t},t.prototype.getTitle=function(){return this.title},t.prototype.setContentUrl=function(t){this.contentUrl=t},t.prototype.setHelpUrl=function(t){this.helpUrl=t},t.prototype.navigateTo=function(t){this.recordState.push(t),this.navigateContent=t},t.prototype.getWindowStatus=function(){return this.navigateContent},t.prototype.isEqualToCurrentState=function(t){return this.navigateContent===t?!0:!1},t.prototype.goToLoadingState=function(){this.reset(),this.navigateTo("sanji-loading")},t.prototype.goToProcessingState=function(){this.reset(),this.navigateTo("sanji-processing")},t.prototype.goToInfoState=function(){this.navigateTo("sanji-info")},t.prototype.goToEditState=function(){this.navigateTo("sanji-edit")},t.prototype.goToAddState=function(){this.navigateTo("sanji-add")},t.prototype.goToProblemState=function(){this.reset(),this.navigateTo("sanji-connection-problem")},t.prototype.goBack=function(){var t=this.recordState;t.pop(),this.navigateContent=t[t.length-1]},t.prototype.reset=function(){this.recordState.length=0},t.prototype.setToggleStatus=function(t){this.toggleStatus=t},t.prototype.toggleWidget=function(){this.toggleStatus=!this.toggleStatus,angular.isDefined(this.cacheAdapter)&&this.cacheAdapter.put(this.title,this.toggleStatus)},t.prototype.afterShow=function(){angular.isFunction(this.afterShow)&&this.afterShow()},t}}function e(t){return{restrict:"A",scope:{mxHide:"=",afterHide:"&",afterShow:"&"},link:function(e,n){e.$watch("mxHide",function(i){i?t.addClass(n,"ng-hide",e.afterHide):t.removeClass(n,"ng-hide",e.afterShow)})}}}function n(t,e,n){return{templateUrl:"templates/sanji-window.html",restrict:"EA",replace:!0,scope:{title:"@",contentUrl:"@",helpUrl:"@"},link:function(t){if(t.sanjiWindowMgr=new n,!t.contentUrl)throw new Error("Sanji window content url not defined!");t.sanjiWindowMgr.setContentUrl(t.contentUrl),t.title&&t.sanjiWindowMgr.setTitle(t.title),t.helpUrl&&t.sanjiWindowMgr.setHelpUrl(t.helpUrl)}}}angular.module("sanji.window",["google-maps","pasvaz.bindonce","sanji.validator","ngAnimate"]).constant("_",window._).provider("SanjiWindowConfig",t).directive("mxHide",e).directive("sanjiWindow",n),e.$inject=["$animate"],n.$inject=["$log","$controller","SanjiWindowConfig"]}();
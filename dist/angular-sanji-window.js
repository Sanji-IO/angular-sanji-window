!function(n,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("angular"),require("angular-busy"),require("angular-material"),require("angular-material-icons")):"function"==typeof define&&define.amd?define(["angular","angular-busy","angular-material","angular-material-icons"],t):"object"==typeof exports?exports.sjWindow=t(require("angular"),require("angular-busy"),require("angular-material"),require("angular-material-icons")):n.sjWindow=t(n.angular,n.ngBusy,n.ngMaterial,n.ngMdIcons)}(this,function(n,t,e,i){return function(n){function t(i){if(e[i])return e[i].exports;var r=e[i]={exports:{},id:i,loaded:!1};return n[i].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var e={};return t.m=n,t.c=e,t.p="",t(0)}([function(n,t,e){"use strict";function i(n){return n&&n.__esModule?n:{"default":n}}Object.defineProperty(t,"__esModule",{value:!0});var r=e(29),o=i(r),a=e(31),u=i(a),c=e(32),s=i(c);e(30),e(21),e(28),e(27);var d=e(26),l=i(d),f=e(25),p=i(f),m=e(23),v=i(m),h=e(24),g=i(h),w=e(22),y=i(w),j=o["default"].module("sanji.window",[u["default"],s["default"],"cgBusy"]);j.factory("sanjiWindowService",l["default"].factory),j.controller("SanjiWindowController",p["default"]),j.controller("SanjiWindowStateController",v["default"]),j.component("sanjiWindow",g["default"]),j.component("sanjiWindowState",y["default"]),t["default"]=j=j.name,n.exports=t["default"]},function(n,t,e){n.exports=!e(6)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(n,t){"use strict";t.__esModule=!0,t["default"]=function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}},function(n,t,e){"use strict";function i(n){return n&&n.__esModule?n:{"default":n}}t.__esModule=!0;var r=e(9),o=i(r);t["default"]=function(){function n(n,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),(0,o["default"])(n,i.key,i)}}return function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}}()},function(n,t){n.exports=function(n){return"object"==typeof n?null!==n:"function"==typeof n}},function(n,t){var e=n.exports={version:"2.4.0"};"number"==typeof __e&&(__e=e)},function(n,t){n.exports=function(n){try{return!!n()}catch(t){return!0}}},function(n,t){var e=n.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)},function(n,t,e){var i=e(12),r=e(17),o=e(19),a=Object.defineProperty;t.f=e(1)?Object.defineProperty:function(n,t,e){if(i(n),t=o(t,!0),i(e),r)try{return a(n,t,e)}catch(u){}if("get"in e||"set"in e)throw TypeError("Accessors not supported!");return"value"in e&&(n[t]=e.value),n}},function(n,t,e){n.exports={"default":e(10),__esModule:!0}},function(n,t,e){e(20);var i=e(5).Object;n.exports=function(n,t,e){return i.defineProperty(n,t,e)}},function(n,t){n.exports=function(n){if("function"!=typeof n)throw TypeError(n+" is not a function!");return n}},function(n,t,e){var i=e(4);n.exports=function(n){if(!i(n))throw TypeError(n+" is not an object!");return n}},function(n,t,e){var i=e(11);n.exports=function(n,t,e){if(i(n),void 0===t)return n;switch(e){case 1:return function(e){return n.call(t,e)};case 2:return function(e,i){return n.call(t,e,i)};case 3:return function(e,i,r){return n.call(t,e,i,r)}}return function(){return n.apply(t,arguments)}}},function(n,t,e){var i=e(4),r=e(7).document,o=i(r)&&i(r.createElement);n.exports=function(n){return o?r.createElement(n):{}}},function(n,t,e){var i=e(7),r=e(5),o=e(13),a=e(16),u="prototype",c=function(n,t,e){var s,d,l,f=n&c.F,p=n&c.G,m=n&c.S,v=n&c.P,h=n&c.B,g=n&c.W,w=p?r:r[t]||(r[t]={}),y=w[u],j=p?i:m?i[t]:(i[t]||{})[u];p&&(e=t);for(s in e)d=!f&&j&&void 0!==j[s],d&&s in w||(l=d?j[s]:e[s],w[s]=p&&"function"!=typeof j[s]?e[s]:h&&d?o(l,i):g&&j[s]==l?function(n){var t=function(t,e,i){if(this instanceof n){switch(arguments.length){case 0:return new n;case 1:return new n(t);case 2:return new n(t,e)}return new n(t,e,i)}return n.apply(this,arguments)};return t[u]=n[u],t}(l):v&&"function"==typeof l?o(Function.call,l):l,v&&((w.virtual||(w.virtual={}))[s]=l,n&c.R&&y&&!y[s]&&a(y,s,l)))};c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,n.exports=c},function(n,t,e){var i=e(8),r=e(18);n.exports=e(1)?function(n,t,e){return i.f(n,t,r(1,e))}:function(n,t,e){return n[t]=e,n}},function(n,t,e){n.exports=!e(1)&&!e(6)(function(){return 7!=Object.defineProperty(e(14)("div"),"a",{get:function(){return 7}}).a})},function(n,t){n.exports=function(n,t){return{enumerable:!(1&n),configurable:!(2&n),writable:!(4&n),value:t}}},function(n,t,e){var i=e(4);n.exports=function(n,t){if(!i(n))return n;var e,r;if(t&&"function"==typeof(e=n.toString)&&!i(r=e.call(n)))return r;if("function"==typeof(e=n.valueOf)&&!i(r=e.call(n)))return r;if(!t&&"function"==typeof(e=n.toString)&&!i(r=e.call(n)))return r;throw TypeError("Can't convert object to primitive value")}},function(n,t,e){var i=e(15);i(i.S+i.F*!e(1),"Object",{defineProperty:e(8).f})},function(n,t){},function(n,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e={transclude:!0,require:{parent:"^sanjiWindow"},bindings:{defaultState:"@",stateName:"@",linkName:"@",icon:"@"},template:'<div ng-if="vm.sanjiWindowMgr.navigateContent === vm.stateName" ng-transclude></div>',controller:"SanjiWindowStateController",controllerAs:"vm"};t["default"]=e,n.exports=t["default"]},function(n,t,e){"use strict";function i(n){return n&&n.__esModule?n:{"default":n}}Object.defineProperty(t,"__esModule",{value:!0});var r=e(2),o=i(r),a=e(3),u=i(a),c=[],s=function(){function n(){for(var t=this,e=arguments.length,i=Array(e),r=0;e>r;r++)i[r]=arguments[r];(0,o["default"])(this,n),n.$inject.forEach(function(n,e){return t[n]=i[e]}),this.sanjiWindowMgr=null}return(0,u["default"])(n,[{key:"$onInit",value:function(){this.sanjiWindowMgr=this.parent.sanjiWindowMgr,void 0!==this.stateName&&this.parent.register({name:this.stateName,linkName:this.linkName,icon:this.icon,isDefault:void 0!==this.defaultState})}}]),n}();s.$inject=c,t["default"]=s,n.exports=t["default"]},function(n,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e={transclude:!0,bindings:{windowId:"@",windowName:"@",showLoadingBtn:"@"},templateUrl:"sanji-window.tpl.html",controller:"SanjiWindowController",controllerAs:"vm"};t["default"]=e,n.exports=t["default"]},function(n,t,e){"use strict";function i(n){return n&&n.__esModule?n:{"default":n}}Object.defineProperty(t,"__esModule",{value:!0});var r=e(2),o=i(r),a=e(3),u=i(a),c=["$rootScope","$scope","sanjiWindowService"],s=function(){function n(){for(var t=this,e=arguments.length,i=Array(e),r=0;e>r;r++)i[r]=arguments[r];(0,o["default"])(this,n),n.$inject.forEach(function(n,e){return t[n]=i[e]}),this.sanjiWindowMgr=this.sanjiWindowService.create(this.windowId,{name:this.windowName})}return(0,u["default"])(n,[{key:"$onDestroy",value:function(){this.sanjiWindowMgr.clearStates(),this.sanjiWindowService.destroy(this.sanjiWindowMgr.getId())}},{key:"register",value:function(n){var t=this.sanjiWindowMgr;n.isDefault&&t.navigateTo(n.name),t.addState(n)}},{key:"refresh",value:function(){this.$rootScope.$broadcast("sj:window:refresh",{id:this.windowId,promise:this.sanjiWindowMgr.promise})}}]),n}();s.$inject=c,t["default"]=s,n.exports=t["default"]},function(n,t,e){"use strict";function i(n){return n&&n.__esModule?n:{"default":n}}Object.defineProperty(t,"__esModule",{value:!0});var r=e(2),o=i(r),a=e(3),u=i(a),c=function(){function n(){(0,o["default"])(this,n),this.collection=[]}return(0,u["default"])(n,[{key:"_addInstance",value:function(n){this.collection.push(n)}},{key:"destroy",value:function(n){var t=this.collection.findIndex(function(t){return t.id===n});this.collection.splice(t,1)}},{key:"_isIdExist",value:function(n){return-1!==this.collection.findIndex(function(t){return t.id===n})}},{key:"get",value:function(n){return this.collection.find(function(t){return t.id===n})}},{key:"create",value:function(n,t){var e=null;if(t=t||{},void 0===n)throw new Error("Please give a window id.");if(this._isIdExist(n))throw new Error("The window id "+n+" is already exist.");var i=function(){function t(e){(0,o["default"])(this,t),this.states=[],this.links=[],this.id=n,this.name=e.name||"",this.navigateContent=e.navigateContent||"",this.promise=null}return(0,u["default"])(t,[{key:"getId",value:function(){return this.id}},{key:"navigateTo",value:function(n){this.navigateContent=n}},{key:"addState",value:function(n){n.linkName&&this.links.push(n),this.states.push(n)}},{key:"clearStates",value:function(){this.links.length=0,this.states.length=0}}]),t}();return e=new i(t),this._addInstance(e),e}}],[{key:"factory",value:function(){return new n}}]),n}();t["default"]=c,n.exports=t["default"]},function(n,t){var e,i=window.angular;try{e=i.module(["ng"])}catch(r){e=i.module("ng",[])}var o='<div class="sj-window-loading" layout layout-align="space-around">\n    <md-progress-circular class="sj-spinner-bg md-whiteframe-1dp"\n    md-diameter="35px" md-mode="indeterminate"></md-progress-circular>\n  </div>';e.run(["$templateCache",function(n){n.put("sanji-window-loading.tpl.html",o)}]),n.exports=o},function(n,t){var e,i=window.angular;try{e=i.module(["ng"])}catch(r){e=i.module("ng",[])}var o='<md-card class="sj-window" cg-busy="{promise: vm.sanjiWindowMgr.promise, templateUrl: \'sanji-window-loading.tpl.html\'}">\n    <md-card-header class="sj-window-header">\n      <md-card-header-text layout layout-align="space-between center">\n        <h3 flex ng-bind="vm.windowName"></h3>\n        <div flex class="sj-window-btn-group">\n        <md-button ng-if="undefined!==vm.showLoadingBtn"\n        type="button" aria-label="Refresh" class="md-icon-button" ng-click="vm.refresh()">\n            <ng-md-icon icon="refresh"></ng-md-icon>\n          </md-button>\n          <md-menu ng-if="1 < vm.sanjiWindowMgr.links.length"\n          md-position-mode="target-right target">\n          <md-button type="button" aria-label="Open menu" class="md-icon-button"\n          ng-click="$mdOpenMenu($event)">\n              <ng-md-icon md-menu-origin icon="apps"></ng-md-icon>\n            </md-button>\n            <md-menu-content width="4">\n              <md-menu-item ng-repeat="state in vm.sanjiWindowMgr.links track by $index">\n                <md-button type="button" aria-label="{{::state.linkName}}"\n                ng-click="vm.sanjiWindowMgr.navigateTo(state.name)">\n                  <div layout>\n                    <p flex ng-bind="::state.linkName"></p>\n                    <ng-md-icon ng-if="undefined!==state.icon"\n                      md-menu-origin icon="{{::state.icon}}"></ng-md-icon>\n                  </div>\n                </md-button>\n              </md-menu-item>\n            </md-menu-content>\n          </md-menu>\n        </div>\n      </md-card-header-text>\n    </md-card-header>\n    <md-card-content>\n      <div ng-transclude></div>\n    </md-card-content>\n  </md-card>';e.run(["$templateCache",function(n){n.put("sanji-window.tpl.html",o)}]),n.exports=o},function(t,e){t.exports=n},function(n,e){n.exports=t},function(n,t){n.exports=e},function(n,t){n.exports=i}])});
//# sourceMappingURL=angular-sanji-window.js.map